{"version":3,"sources":["AnilistClient.tsx","queries/queries.tsx","components/logo/Logo.tsx","components/layout/DefaultLayout.tsx","components/spin/FullScreenSpin.tsx","components/card/SimpleCard.tsx","modules/AnimationList.tsx","pages/home/Home.tsx","pages/detail/Detail.tsx","App.tsx","index.tsx"],"names":["client","ApolloClient","uri","ANIMATION_LIST","gql","Logo","className","this","props","style","width","color","fontSize","Component","Panel","Collapse","Search","Input","DefaultLayout","placeholder","onSearch","defaultActiveKey","header","key","children","FullScreenSpin","display","alignItems","justifyContent","height","size","tip","SimpleCard","id","title","coverImage","genres","Meta","Card","to","hoverable","margin","cover","alt","src","description","join","substr","Option","Select","AnimationList","page","pageSize","sort","search","onPageChange","onSortChange","sortString","searchParam","useQuery","variables","perPage","isAdult","fetchPolicy","loading","error","data","pageInfo","Page","render","media","map","romaji","large","padding","marginBottom","total","marginLeft","showSizeChanger","onShowSizeChange","defaultCurrent","defaultPageSize","onChange","float","defaultValue","value","clear","marginTop","Home","current","state","setState","Detail","match","params","App","exact","path","component","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.6332118c.chunk.js","sourcesContent":["import ApolloClient from \"apollo-boost\";\n\nconst client = new ApolloClient({\n    uri: 'https://graphql.anilist.co'\n});\n\nexport default client;\n","import gql from \"graphql-tag\";\n\nexport const ANIMATION_LIST = gql`\n    query ($page: Int, $perPage: Int, $isAdult: Boolean, $sort: MediaSort, $search: String, $genres: [String]){\n        Page(page:$page, perPage:$perPage) {\n            pageInfo{\n                total,\n                perPage,\n                currentPage,\n                lastPage,\n                hasNextPage\n            },\n            media(isAdult: $isAdult, sort: [$sort], search: $search, genre_in: $genres) {\n                id\n                title{\n                    romaji\n                    english\n                    native\n                },\n                coverImage{\n                    extraLarge,\n                    large,\n                    medium\n                },\n                genres\n            }\n        }\n    }\n`;\n","import React, {Component} from \"react\";\n\nclass Logo extends Component<{className?: string}> {\n    render() {\n        return (\n            <div className={this.props.className || ''} style={{\n                width: '200px',\n                color: 'white',\n                fontSize: '2em'\n            }}>Anilist</div>\n        );\n    }\n};\n\nexport default Logo;\n","import React, {Component} from \"react\";\nimport {Input, Collapse} from 'antd';\nimport {Logo} from \"../logo\";\nimport './DefaultLayout.scss';\n\nconst { Panel } = Collapse;\nconst { Search } = Input;\ntype Props = {\n    onSearch?: (value: string) => void;\n};\n\nclass DefaultLayout extends Component<Props> {\n    render() {\n        return (\n            <div className=\"default-layout\">\n                <header className=\"default-header\">\n                    <Logo className=\"logo\" />\n                    <Search\n                        className=\"search\"\n                        placeholder=\"input search text\"\n                        onSearch={this.props.onSearch} />\n                </header>\n                <div className=\"default-content-layout\">\n                    <aside className=\"default-sidebar\">\n                        <Collapse defaultActiveKey={['1']}>\n                            <Panel header=\"Genres\" key=\"1\">\n                                <div>Drama</div>\n                                <div>Sci-Fi</div>\n                                <div>Action</div>\n                                <div>Comedy</div>\n                                <div>Romance</div>\n                            </Panel>\n                        </Collapse>\n                    </aside>\n                    <div className=\"default-content\">\n                        {this.props.children}\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default DefaultLayout;\n","import React from \"react\";\nimport {Spin} from \"antd\";\n\nconst FullScreenSpin = () => {\n    return (<div style={{\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        width: \"100%\",\n        height: \"100%\"\n    }}>\n        <Spin size={\"large\"} tip={\"loading...\"} />\n    </div>)\n};\n\nexport default FullScreenSpin;\n","import React from \"react\";\nimport {Card} from \"antd\";\nimport {Link} from \"react-router-dom\";\n\nconst SimpleCard = ({id, title, coverImage, genres}: any) => {\n    const {Meta} = Card;\n\n    return <Link to={`/details/${id}`}>\n        <Card hoverable\n              style={{width: 240, display: \"inline-block\", margin: 10}}\n              cover={<img style={{width: 240, height: 340}} alt={title} src={coverImage} />}>\n            <Meta title={title} description={genres.join(' / ').substr(0, 25)} />\n        </Card>\n    </Link>\n};\n\nexport default SimpleCard;\n","import React from \"react\";\nimport {useQuery} from \"@apollo/react-hooks\";\nimport {ANIMATION_LIST} from \"../queries/queries\";\nimport {DefaultLayout} from \"../components/layout\";\nimport {FullScreenSpin} from \"../components/spin\";\nimport {SimpleCard} from \"../components/card\";\nimport {Pagination, Select} from \"antd\";\n\nconst {Option} = Select;\n\ntype Props = {\n    page: number;\n    pageSize: number;\n    sort?: string;\n    search?: string;\n    onPageChange: (page: number, pageSize?: number) => void;\n    onSortChange: (sort: string) => void;\n    onSearch: (value: string) => void;\n}\n\nconst AnimationList = ({page, pageSize, sort, search, onPageChange, onSortChange, onSearch}: Props) => {\n    const sortString = sort || 'TRENDING_DESC';\n    const searchParam = !search ? {} : {search: search};\n    const {loading, error, data} = useQuery(ANIMATION_LIST, {\n        variables: {\n            ...searchParam,\n            page: page,\n            perPage: pageSize,\n            sort: sortString,\n            isAdult: false,\n        },\n        fetchPolicy: \"cache-and-network\"\n    });\n\n    if (loading) return <DefaultLayout><FullScreenSpin/></DefaultLayout>;\n    if (error) return <DefaultLayout onSearch={onSearch}><p>Error :(</p></DefaultLayout>;\n\n    const pageInfo: any = data.Page.pageInfo;\n    const mediaList: Array<any> = data.Page.media;\n\n    const render = mediaList.map(media => (\n        <SimpleCard key={media.id}\n                    id={media.id}\n                    title={media.title.romaji}\n                    coverImage={media.coverImage.large}\n                    genres={media.genres}\n        />\n    ));\n\n    return <DefaultLayout onSearch={onSearch}>\n        <div style={{padding: 10, fontSize: '1.5em', marginBottom: 10}}>Total of {pageInfo.total}</div>\n        <div style={{marginBottom: 10, marginLeft: 10}}>\n            <Pagination\n                showSizeChanger\n                onShowSizeChange={onPageChange}\n                defaultCurrent={page}\n                defaultPageSize={pageSize}\n                onChange={onPageChange}\n                total={pageInfo.total}\n                style={{float: \"left\"}}\n            />\n            <Select defaultValue={sortString} style={{width: 160, float: \"right\"}} onChange={onSortChange}>\n                <Option value=\"TRENDING_DESC\">Trending</Option>\n                <Option value=\"FAVOURITES_DESC\">Favourites</Option>\n                <Option value=\"SCORE_DESC\">Score</Option>\n                <Option value=\"START_DATE_DESC\">Start date</Option>\n            </Select>\n        </div>\n        <div style={{clear: \"both\"}}/>\n        {render}\n        <div style={{marginTop: 10, marginLeft: 10}}>\n            <Pagination\n                showSizeChanger\n                onShowSizeChange={onPageChange}\n                defaultCurrent={page}\n                defaultPageSize={pageSize}\n                onChange={onPageChange}\n                total={pageInfo.total}\n            />\n        </div>\n    </DefaultLayout>;\n};\n\nexport default AnimationList;\n","import React, {Component} from 'react';\nimport {AnimationList} from \"../../modules\";\n\ntype Props = {};\ntype State = {\n    page: number;\n    pageSize: number;\n    sort?: string;\n    search?: string;\n}\n\nclass Home extends Component<Props, State> {\n    constructor(props: Readonly<Props>) {\n        super(props);\n        this.state = {\n            page: 1,\n            pageSize: 10\n        };\n    }\n\n    onPageChange = (current: number, pageSize: number = this.state.pageSize) => {\n        this.setState({\n            page: current,\n            pageSize: pageSize\n        });\n    };\n\n    onSortChange = (sort: string) => {\n        this.setState({\n            sort: sort\n        });\n    };\n\n    onSearch = (value: string) => {\n        this.setState({\n            page: 1,\n            search: value\n        });\n    };\n\n    render() {\n        return <AnimationList\n            page={this.state.page}\n            pageSize={this.state.pageSize}\n            sort={this.state.sort}\n            search={this.state.search}\n            onPageChange={this.onPageChange}\n            onSortChange={this.onSortChange}\n            onSearch={this.onSearch}\n        />\n    }\n}\n\nexport default Home;\n","import React, {Component} from 'react';\n\nclass Detail extends Component<any, any> {\n    render() {\n        const {match} = this.props;\n        const id = match.params.id;\n\n        return (\n            <div>Detail : {id}</div>\n        );\n    }\n}\n\nexport default Detail;\n","import React from 'react';\nimport {ApolloProvider} from '@apollo/react-hooks';\nimport {Route, HashRouter} from 'react-router-dom';\nimport client from './AnilistClient';\nimport {Home} from \"./pages/home\";\nimport {Detail} from \"./pages/detail\";\nimport 'antd/dist/antd.css';\n\nconst App: React.FC = () => {\n    return (\n        <ApolloProvider client={client}>\n            <HashRouter>\n                <Route exact={true} path={\"/\"} component={Home} />\n                <Route path={\"/details/:id\"} component={Detail} />\n            </HashRouter>\n        </ApolloProvider>\n    );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.scss';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}