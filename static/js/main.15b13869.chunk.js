(window["webpackJsonpanilist-client"]=window["webpackJsonpanilist-client"]||[]).push([[0],{142:function(e,t,a){e.exports=a(240)},154:function(e,t,a){},155:function(e,t,a){},212:function(e,t,a){},239:function(e,t,a){},240:function(e,t,a){"use strict";a.r(t);var n,r,i,c=a(0),o=a.n(c),s=a(10),l=a.n(s),m=a(244),u=a(35),p=a(41),h=new(a(137).a)({uri:"https://graphql.anilist.co"}),g=(a(149),a(21)),d=a(26),v=a(37),f=a(36),E=a(38),O=a(247),S=function(e){function t(){return Object(g.a)(this,t),Object(v.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return o.a.createElement(u.b,{to:"/"},o.a.createElement("div",{className:this.props.className||"",style:{width:"200px",fontSize:"2em"}},"Anilist"))}}]),t}(c.Component),b=(a(154),function(e){var t=e.match;return o.a.createElement(p.d,null,o.a.createElement(p.b,{path:"".concat(t.path,"/:id"),component:V}),o.a.createElement(p.b,{path:"".concat(t.path),component:x}))}),I=a(128);!function(e){e.ANIMATION_STORE="animationStore"}(n||(n={})),function(e){e.ANIMATION_LIST="/animations"}(r||(r={})),function(e){e.ANILIST_CO="https://graphql.anilist.co"}(i||(i={}));var N=a(66),A=a(245),y=(a(155),function(e){var t=e.id,a=e.title,n=e.coverImage,i=e.genres,c=A.a.Meta;return o.a.createElement(u.b,{to:"".concat(r.ANIMATION_LIST,"/").concat(t)},o.a.createElement("div",{className:"simple-card"},o.a.createElement(A.a,{hoverable:!0,cover:o.a.createElement("img",{className:"simple-card-preview",alt:a,src:n})},o.a.createElement(c,{title:a,description:i.join(" / ").substr(0,25)}))))}),C=a(138),T=a(15),j=a(248),P=a(63),w=a(246),_=a(243),M=function(){return o.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",width:"100%",height:"100%"}},o.a.createElement(_.a,{size:"large",tip:"loading..."}))},R=(a(212),a(131)),k=a.n(R);function D(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function L(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?D(a,!0).forEach((function(t){Object(I.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):D(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var $=function(e){function t(){var e,a;Object(g.a)(this,t);for(var r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return(a=Object(v.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(i)))).onGenreChange=function(e){var t=a.props[n.ANIMATION_STORE].param.genres;t||(t=[]),e.target.checked?t.push(e.target.value):t=t.filter((function(t){return t!==e.target.value})),a.props[n.ANIMATION_STORE].setParam(L({},a.props[n.ANIMATION_STORE].param,{page:1,genres:t})),a.getList()},a.onPageChange=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.props[n.ANIMATION_STORE].param.perPage;a.props[n.ANIMATION_STORE].setParam(L({},a.props[n.ANIMATION_STORE].param,{page:e,perPage:t})),a.getList()},a.onSortChange=function(e){a.props[n.ANIMATION_STORE].setParam(L({},a.props[n.ANIMATION_STORE].param,{sort:e})),a.getList()},a.getList=function(){a.props[n.ANIMATION_STORE].getAnimations()},a.reset=function(){var e=k.a.parse(a.props.location.search);a.props[n.ANIMATION_STORE].setParam({page:1,perPage:10,search:e.search||""}),a.getList()},a}return Object(E.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.reset()}},{key:"componentDidUpdate",value:function(e){this.props.location!==e.location&&this.reset()}},{key:"render",value:function(){var e=this.props[n.ANIMATION_STORE],t=e.pageInfo,a=e.animations,r=e.isLoading,i=e.param;if(r)return o.a.createElement(M,null);var c=a.map((function(e){return o.a.createElement(y,{key:e.id,id:e.id,title:e.title.romaji,coverImage:e.coverImage.large,genres:e.genres})})),s=i.genres?i.genres:[];return o.a.createElement("div",{className:"content-wrap"},o.a.createElement("aside",{className:"sidebar"},o.a.createElement("div",{className:"main-title"},o.a.createElement("div",null,"Filter"),o.a.createElement(C.a,{size:"small",onClick:this.reset},"Reset",o.a.createElement(T.a,{type:"redo"}))),o.a.createElement("div",{className:"sidebar-filter border-bottom"},o.a.createElement("div",{className:"sidebar-filter-title"},"Genres"),o.a.createElement("div",{className:"sidebar-filter-item"},o.a.createElement("div",null,o.a.createElement(j.a,{onChange:this.onGenreChange,value:"Drama",checked:s.some((function(e){return"Drama"===e}))},"Drama")),o.a.createElement("div",null,o.a.createElement(j.a,{onChange:this.onGenreChange,value:"Sci-Fi",checked:s.some((function(e){return"Sci-Fi"===e}))},"Sci-Fi")),o.a.createElement("div",null,o.a.createElement(j.a,{onChange:this.onGenreChange,value:"Action",checked:s.some((function(e){return"Action"===e}))},"Action")),o.a.createElement("div",null,o.a.createElement(j.a,{onChange:this.onGenreChange,value:"Comedy",checked:s.some((function(e){return"Comedy"===e}))},"Comedy")),o.a.createElement("div",null,o.a.createElement(j.a,{onChange:this.onGenreChange,value:"Romance",checked:s.some((function(e){return"Romance"===e}))},"Romance")),o.a.createElement("div",null,o.a.createElement(j.a,{onChange:this.onGenreChange,value:"Fantasy",checked:s.some((function(e){return"Fantasy"===e}))},"Fantasy"))))),o.a.createElement("div",{className:"content"},o.a.createElement("div",{style:{padding:10,fontSize:"1.5em",marginBottom:10}},"Total of ",t.total),o.a.createElement("div",{className:"pagination-wrap",style:{marginBottom:10}},o.a.createElement("div",{className:"sort"},o.a.createElement(P.a,{defaultValue:i.sort,onChange:this.onSortChange,style:{width:160}},o.a.createElement(P.a.Option,{value:"TRENDING_DESC"},"Trending"),o.a.createElement(P.a.Option,{value:"FAVOURITES_DESC"},"Favourites"),o.a.createElement(P.a.Option,{value:"SCORE_DESC"},"Score"),o.a.createElement(P.a.Option,{value:"START_DATE_DESC"},"Start date"))),o.a.createElement("div",{className:"pagination"},o.a.createElement(w.a,{showSizeChanger:!0,defaultCurrent:t.currentPage,defaultPageSize:t.perPage,onShowSizeChange:this.onPageChange,onChange:this.onPageChange,total:t.total}))),o.a.createElement("div",null,c),o.a.createElement("div",{className:"pagination-wrap"},o.a.createElement("div",{className:"sort"},o.a.createElement(P.a,{defaultValue:i.sort,onChange:this.onSortChange,style:{width:160}},o.a.createElement(P.a.Option,{value:"TRENDING_DESC"},"Trending"),o.a.createElement(P.a.Option,{value:"FAVOURITES_DESC"},"Favourites"),o.a.createElement(P.a.Option,{value:"SCORE_DESC"},"Score"),o.a.createElement(P.a.Option,{value:"START_DATE_DESC"},"Start date"))),o.a.createElement("div",{className:"pagination"},o.a.createElement(w.a,{showSizeChanger:!0,defaultCurrent:t.currentPage,defaultPageSize:t.perPage,onShowSizeChange:this.onPageChange,onChange:this.onPageChange,total:t.total})))))}}]),t}(c.Component),x=Object(N.b)(n.ANIMATION_STORE)(Object(N.c)($)),F=a(67),G=a.n(F),z=a(101),q=a(139),B=function(){function e(){Object(g.a)(this,e),this.fetch=Object(q.a)({uri:i.ANILIST_CO})}return Object(d.a)(e,[{key:"getAnimations",value:function(){var e=Object(z.a)(G.a.mark((function e(t){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetch({query:"\n    query ($page: Int, $perPage: Int, $isAdult: Boolean, $sort: MediaSort, $search: String, $genres: [String]){\n        Page(page:$page, perPage:$perPage) {\n            pageInfo{\n                total\n                perPage\n                currentPage\n                lastPage\n                hasNextPage\n            },\n            media(isAdult: $isAdult, sort: [$sort], search: $search, genre_in: $genres) {\n                id\n                title{\n                    romaji\n                    english\n                    native\n                },\n                coverImage{\n                    extraLarge\n                    large\n                    medium\n                },\n                genres\n            }\n        }\n    }\n",variables:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAnimation",value:function(){var e=Object(z.a)(G.a.mark((function e(t){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetch({query:"\nquery ($id: Int) {\n    Media (id: $id) {\n        id\n        title{\n            romaji\n            english\n            native\n        }\n        coverImage{\n            extraLarge\n            large\n            medium\n        }\n        genres\n        status\n        description\n        startDate{\n            year\n            month\n            day\n        }\n        averageScore\n        trailer {\n            site\n            thumbnail\n            id\n        }\n        relations {\n            nodes {\n                title {\n                  romaji\n                  english\n                  native\n                }\n                description\n                coverImage {\n                  extraLarge\n                  large\n                  medium\n                }\n            }\n        }\n    }\n}\n",variables:{id:t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),V=function(e){function t(e,a){var n;return Object(g.a)(this,t),(n=Object(v.a)(this,Object(f.a)(t).call(this,e,a))).animationService=void 0,n.animationService=new B,n.state={media:null},n}return Object(E.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;this.animationService.getAnimation(t).then((function(t){console.log(t.data.Media),e.setState({media:t.data.Media})}))}},{key:"render",value:function(){if(null==this.state.media)return o.a.createElement(M,null);var e=this.state.media;return o.a.createElement("div",null,o.a.createElement("div",null,e.title.romaji),o.a.createElement("div",{dangerouslySetInnerHTML:{__html:e.description}}))}}]),t}(c.Component),U=O.a.Search,J=function(e){function t(){var e,a;Object(g.a)(this,t);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(a=Object(v.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(i)))).onSearch=function(e){a.props.history.push("".concat(r.ANIMATION_LIST,"?search=").concat(e))},a}return Object(E.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"default-layout"},o.a.createElement("header",{className:"default-header"},o.a.createElement(S,{className:"logo"}),o.a.createElement(U,{className:"search",placeholder:"input search text",onSearch:this.onSearch})),o.a.createElement("div",{className:"default-content-layout"},o.a.createElement(p.d,null,o.a.createElement(p.b,{path:r.ANIMATION_LIST,component:b}),o.a.createElement(p.a,{from:"/",to:r.ANIMATION_LIST}))))}}]),t}(c.Component),H=function(){return o.a.createElement(m.a,{client:h},o.a.createElement(u.a,null,o.a.createElement(p.d,null,o.a.createElement(p.b,{path:"/",component:J}))))},K=(a(239),a(12)),Q=function(){function e(t){Object(g.a)(this,e),this.animationService=t,this.isLoading=!1,this.param={page:1,perPage:10},this.animations=[],this.pageInfo={currentPage:1,hasNextPage:!1,lastPage:1,perPage:10,total:0}}return Object(d.a)(e,[{key:"getAnimations",value:function(){var e=this;this.isLoading=!0;var t={page:this.param.page,perPage:this.param.perPage,isAdult:!!this.param.isAdult,sort:this.param.sort?this.param.sort:"TRENDING_DESC"};this.param.search&&Object.assign(t,{search:this.param.search}),this.param.genres&&this.param.genres.length>0&&Object.assign(t,{genres:this.param.genres}),this.param=t,this.animationService.getAnimations(t).then((function(t){e.animations=t.data.Page.media,e.pageInfo=t.data.Page.pageInfo})).finally((function(){e.isLoading=!1}))}},{key:"setParam",value:function(e){this.param=e}}]),e}();Object(K.j)(Q,{animations:K.o,pageInfo:K.o,param:K.o,isLoading:K.o,setParam:K.f,getAnimations:K.f});var W=Q,X=function e(){Object(g.a)(this,e),this.animationStore=new W(new B)};X.instance=void 0;var Y=new X,Z=function(e){var t=e.children;return o.a.createElement(N.a,Y,t)};l.a.render(o.a.createElement(Z,null,o.a.createElement(H,null)),document.getElementById("root"))}},[[142,1,2]]]);
//# sourceMappingURL=main.15b13869.chunk.js.map