(window["webpackJsonpanilist-client"]=window["webpackJsonpanilist-client"]||[]).push([[0],{142:function(e,t,a){e.exports=a(240)},154:function(e,t,a){},155:function(e,t,a){},212:function(e,t,a){},237:function(e,t,a){},240:function(e,t,a){"use strict";a.r(t);var n,r,i=a(0),c=a.n(i),o=a(10),s=a.n(o),l=a(244),m=a(35),u=a(41),p=new(a(137).a)({uri:"https://graphql.anilist.co"}),h=(a(149),a(21)),g=a(26),d=a(37),f=a(36),E=a(39),v=a(247),O=function(e){function t(){return Object(h.a)(this,t),Object(d.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return c.a.createElement(m.b,{to:"/"},c.a.createElement("div",{className:this.props.className||"",style:{width:"200px",fontSize:"2em"}},"Anilist"))}}]),t}(i.Component),b=(a(154),function(e){var t=e.match;return c.a.createElement(u.d,null,c.a.createElement(u.b,{path:"".concat(t.path,"/:id"),component:x}),c.a.createElement(u.b,{path:"".concat(t.path),component:$}))}),S=a(128);!function(e){e.ANIMATION_STORE="animationStore"}(n||(n={})),function(e){e.ANIMATION_LIST="/animations"}(r||(r={}));var N=a(66),I=a(245),A=(a(155),function(e){var t=e.id,a=e.title,n=e.coverImage,i=e.genres,o=I.a.Meta;return c.a.createElement(m.b,{to:"".concat(r.ANIMATION_LIST,"/").concat(t)},c.a.createElement(I.a,{className:"simple-card",hoverable:!0,cover:c.a.createElement("img",{className:"simple-card-preview",alt:a,src:n})},c.a.createElement(o,{title:a,description:i.join(" / ").substr(0,25)})))}),y=a(138),C=a(15),j=a(248),T=a(63),P=a(246),w=a(243),_=function(){return c.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",width:"100%",height:"100%"}},c.a.createElement(w.a,{size:"large",tip:"loading..."}))},R=(a(212),a(131)),D=a.n(R);function k(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function M(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?k(a,!0).forEach((function(t){Object(S.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):k(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var L=function(e){function t(){var e,a;Object(h.a)(this,t);for(var r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return(a=Object(d.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(i)))).onGenreChange=function(e){var t=a.props[n.ANIMATION_STORE].param.genres;t||(t=[]),e.target.checked?t.push(e.target.value):t=t.filter((function(t){return t!==e.target.value})),a.props[n.ANIMATION_STORE].setParam(M({},a.props[n.ANIMATION_STORE].param,{page:1,genres:t})),a.getList()},a.onPageChange=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.props[n.ANIMATION_STORE].param.perPage;a.props[n.ANIMATION_STORE].setParam(M({},a.props[n.ANIMATION_STORE].param,{page:e,perPage:t})),a.getList()},a.onSortChange=function(e){a.props[n.ANIMATION_STORE].setParam(M({},a.props[n.ANIMATION_STORE].param,{sort:e})),a.getList()},a.getList=function(){a.props[n.ANIMATION_STORE].getAnimations()},a.reset=function(){var e=D.a.parse(a.props.location.search);a.props[n.ANIMATION_STORE].setParam({page:1,perPage:10,search:e.search||""}),a.getList()},a}return Object(E.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.reset()}},{key:"componentDidUpdate",value:function(e){this.props.location!==e.location&&this.reset()}},{key:"render",value:function(){var e=this.props[n.ANIMATION_STORE],t=e.pageInfo,a=e.animations,r=e.isLoading,i=e.param;if(r)return c.a.createElement(_,null);var o=a.map((function(e){return c.a.createElement(A,{key:e.id,id:e.id,title:e.title.romaji,coverImage:e.coverImage.large,genres:e.genres})})),s=i.genres?i.genres:[];return c.a.createElement("div",{className:"content-wrap"},c.a.createElement("aside",{className:"sidebar"},c.a.createElement("div",{className:"main-title"},c.a.createElement("div",null,"Filter"),c.a.createElement(y.a,{size:"small",onClick:this.reset},"Reset",c.a.createElement(C.a,{type:"redo"}))),c.a.createElement("div",{className:"sidebar-filter border-bottom"},c.a.createElement("div",{className:"sidebar-filter-title"},"Genres"),c.a.createElement("div",{className:"sidebar-filter-item"},c.a.createElement("div",null,c.a.createElement(j.a,{onChange:this.onGenreChange,value:"Drama",checked:s.some((function(e){return"Drama"===e}))},"Drama")),c.a.createElement("div",null,c.a.createElement(j.a,{onChange:this.onGenreChange,value:"Sci-Fi",checked:s.some((function(e){return"Sci-Fi"===e}))},"Sci-Fi")),c.a.createElement("div",null,c.a.createElement(j.a,{onChange:this.onGenreChange,value:"Action",checked:s.some((function(e){return"Action"===e}))},"Action")),c.a.createElement("div",null,c.a.createElement(j.a,{onChange:this.onGenreChange,value:"Comedy",checked:s.some((function(e){return"Comedy"===e}))},"Comedy")),c.a.createElement("div",null,c.a.createElement(j.a,{onChange:this.onGenreChange,value:"Romance",checked:s.some((function(e){return"Romance"===e}))},"Romance")),c.a.createElement("div",null,c.a.createElement(j.a,{onChange:this.onGenreChange,value:"Fantasy",checked:s.some((function(e){return"Fantasy"===e}))},"Fantasy"))))),c.a.createElement("div",{className:"content"},c.a.createElement("div",{style:{padding:10,fontSize:"1.5em",marginBottom:10}},"Total of ",t.total),c.a.createElement("div",{className:"pagination-wrap",style:{marginBottom:10}},c.a.createElement("div",{className:"sort"},c.a.createElement(T.a,{defaultValue:i.sort,onChange:this.onSortChange,style:{width:160}},c.a.createElement(T.a.Option,{value:"TRENDING_DESC"},"Trending"),c.a.createElement(T.a.Option,{value:"FAVOURITES_DESC"},"Favourites"),c.a.createElement(T.a.Option,{value:"SCORE_DESC"},"Score"),c.a.createElement(T.a.Option,{value:"START_DATE_DESC"},"Start date"))),c.a.createElement("div",{className:"pagination"},c.a.createElement(P.a,{showSizeChanger:!0,defaultCurrent:t.currentPage,defaultPageSize:t.perPage,onShowSizeChange:this.onPageChange,onChange:this.onPageChange,total:t.total}))),c.a.createElement("div",null,o),c.a.createElement("div",{className:"pagination-wrap"},c.a.createElement("div",{className:"sort"},c.a.createElement(T.a,{defaultValue:i.sort,onChange:this.onSortChange,style:{width:160}},c.a.createElement(T.a.Option,{value:"TRENDING_DESC"},"Trending"),c.a.createElement(T.a.Option,{value:"FAVOURITES_DESC"},"Favourites"),c.a.createElement(T.a.Option,{value:"SCORE_DESC"},"Score"),c.a.createElement(T.a.Option,{value:"START_DATE_DESC"},"Start date"))),c.a.createElement("div",{className:"pagination"},c.a.createElement(P.a,{showSizeChanger:!0,defaultCurrent:t.currentPage,defaultPageSize:t.perPage,onShowSizeChange:this.onPageChange,onChange:this.onPageChange,total:t.total})))))}}]),t}(i.Component),$=Object(N.b)(n.ANIMATION_STORE)(Object(N.c)(L)),x=function(e){function t(){return Object(h.a)(this,t),Object(d.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props.match.params.id;return c.a.createElement("div",null,"Detail : ",e)}}]),t}(i.Component),F=v.a.Search,G=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(a=Object(d.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(i)))).onSearch=function(e){a.props.history.push("".concat(r.ANIMATION_LIST,"?search=").concat(e))},a}return Object(E.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"default-layout"},c.a.createElement("header",{className:"default-header"},c.a.createElement(O,{className:"logo"}),c.a.createElement(F,{className:"search",placeholder:"input search text",onSearch:this.onSearch})),c.a.createElement("div",{className:"default-content-layout"},c.a.createElement(u.d,null,c.a.createElement(u.b,{path:r.ANIMATION_LIST,component:b}),c.a.createElement(u.a,{from:"/",to:r.ANIMATION_LIST}))))}}]),t}(i.Component),z=function(){return c.a.createElement(l.a,{client:p},c.a.createElement(m.a,null,c.a.createElement(u.d,null,c.a.createElement(u.b,{path:"/",component:G}))))},q=(a(237),a(12)),B=function(){function e(t){Object(h.a)(this,e),this.animationService=t,this.isLoading=!1,this.param={page:1,perPage:10},this.animations=[],this.pageInfo={currentPage:1,hasNextPage:!1,lastPage:1,perPage:10,total:0}}return Object(g.a)(e,[{key:"getAnimations",value:function(){var e=this;this.isLoading=!0;var t={page:this.param.page,perPage:this.param.perPage,isAdult:!!this.param.isAdult,sort:this.param.sort?this.param.sort:"TRENDING_DESC"};this.param.search&&Object.assign(t,{search:this.param.search}),this.param.genres&&this.param.genres.length>0&&Object.assign(t,{genres:this.param.genres}),this.param=t,this.animationService.getAnimations(t).then((function(t){e.animations=t.data.Page.media,e.pageInfo=t.data.Page.pageInfo})).finally((function(){e.isLoading=!1}))}},{key:"setParam",value:function(e){this.param=e}}]),e}();Object(q.j)(B,{animations:q.o,pageInfo:q.o,param:q.o,isLoading:q.o,setParam:q.f,getAnimations:q.f});var V=B,U=a(67),J=a.n(U),H=a(101),K=a(139),Q=function(){function e(){Object(h.a)(this,e),this.fetch=Object(K.a)({uri:"https://graphql.anilist.co"})}return Object(g.a)(e,[{key:"getAnimations",value:function(){var e=Object(H.a)(J.a.mark((function e(t){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetch({query:"\n    query ($page: Int, $perPage: Int, $isAdult: Boolean, $sort: MediaSort, $search: String, $genres: [String]){\n        Page(page:$page, perPage:$perPage) {\n            pageInfo{\n                total\n                perPage\n                currentPage\n                lastPage\n                hasNextPage\n            },\n            media(isAdult: $isAdult, sort: [$sort], search: $search, genre_in: $genres) {\n                id\n                title{\n                    romaji\n                    english\n                    native\n                },\n                coverImage{\n                    extraLarge\n                    large\n                    medium\n                },\n                genres\n            }\n        }\n    }\n",variables:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAnimation",value:function(){var e=Object(H.a)(J.a.mark((function e(t){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetch({query:"\nquery ($id: Int) {\n    Media (id: $id) {\n        id\n        title{\n            romaji\n            english\n            native\n        }\n        coverImage{\n            extraLarge\n            large\n            medium\n        }\n        genres\n        status\n        description\n        startDate{\n            year\n            month\n            day\n        }\n        averageScore\n        trailer {\n            site\n            thumbnail\n            id\n        }\n        relations {\n            nodes {\n                title {\n                  romaji\n                  english\n                  native\n                }\n                description\n                coverImage {\n                  extraLarge\n                  large\n                  medium\n                }\n            }\n        }\n    }\n}\n",variables:{id:t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),W=function e(){Object(h.a)(this,e),this.animationStore=new V(new Q)};W.instance=void 0;var X=new W,Y=function(e){var t=e.children;return c.a.createElement(N.a,X,t)};s.a.render(c.a.createElement(Y,null,c.a.createElement(z,null)),document.getElementById("root"))}},[[142,1,2]]]);
//# sourceMappingURL=main.cdf0750f.chunk.js.map