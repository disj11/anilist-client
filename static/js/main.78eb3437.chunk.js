(window["webpackJsonpanilist-client"]=window["webpackJsonpanilist-client"]||[]).push([[0],{142:function(e,a,t){e.exports=t(241)},154:function(e,a,t){},155:function(e,a,t){},212:function(e,a,t){},236:function(e,a,t){},240:function(e,a,t){},241:function(e,a,t){"use strict";t.r(a);var n,r,i,c=t(0),o=t.n(c),s=t(10),l=t.n(s),m=t(245),u=t(35),h=t(41),p=new(t(137).a)({uri:"https://graphql.anilist.co"}),g=(t(149),t(21)),d=t(26),E=t(37),v=t(36),f=t(38),O=t(248),N=function(e){function a(){return Object(g.a)(this,a),Object(E.a)(this,Object(v.a)(a).apply(this,arguments))}return Object(f.a)(a,e),Object(d.a)(a,[{key:"render",value:function(){return o.a.createElement(u.b,{to:"/"},o.a.createElement("div",{className:this.props.className||"",style:{width:"200px",fontSize:"2em"}},"Anilist"))}}]),a}(c.Component),S=(t(154),function(e){var a=e.match;return o.a.createElement(h.d,null,o.a.createElement(h.b,{path:"".concat(a.path,"/:id"),component:B}),o.a.createElement(h.b,{path:"".concat(a.path),component:x}))}),I=t(128);!function(e){e.ANIMATION_STORE="animationStore"}(n||(n={})),function(e){e.ANIMATION_LIST="/animations"}(r||(r={})),function(e){e.ANILIST_CO="https://graphql.anilist.co"}(i||(i={}));var b=t(66),A=t(246),y=(t(155),function(e){var a=e.id,t=e.title,n=e.coverImage,i=e.genres,c=A.a.Meta;return o.a.createElement(u.b,{to:"".concat(r.ANIMATION_LIST,"/").concat(a)},o.a.createElement("div",{className:"simple-card"},o.a.createElement(A.a,{hoverable:!0,cover:o.a.createElement("img",{className:"simple-card-preview",alt:t,src:n})},o.a.createElement(c,{title:t,description:i.join(" / ").substr(0,25)}))))}),T=t(138),C=t(15),j=t(249),P=t(63),w=t(247),_=t(244),k=function(){return o.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",width:"100%",height:"100%"}},o.a.createElement(_.a,{size:"large",tip:"loading..."}))},M=(t(212),t(131)),R=t.n(M);function D(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function L(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?D(t,!0).forEach((function(a){Object(I.a)(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):D(t).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}var $=function(e){function a(){var e,t;Object(g.a)(this,a);for(var i=arguments.length,c=new Array(i),o=0;o<i;o++)c[o]=arguments[o];return(t=Object(E.a)(this,(e=Object(v.a)(a)).call.apply(e,[this].concat(c)))).onGenreChange=function(e){var a=t.props[n.ANIMATION_STORE].param.genres;a||(a=[]),e.target.checked?a.push(e.target.value):a=a.filter((function(a){return a!==e.target.value})),t.props[n.ANIMATION_STORE].setParam(L({},t.props[n.ANIMATION_STORE].param,{page:1,genres:a})),t.getList()},t.onPageChange=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.props[n.ANIMATION_STORE].param.perPage;t.props[n.ANIMATION_STORE].setParam(L({},t.props[n.ANIMATION_STORE].param,{page:e,perPage:a})),t.getList()},t.onSortChange=function(e){t.props[n.ANIMATION_STORE].setParam(L({},t.props[n.ANIMATION_STORE].param,{sort:e})),t.getList()},t.getList=function(){var e=R.a.parse(t.props.location.search);t.props[n.ANIMATION_STORE].setParam(L({},t.props[n.ANIMATION_STORE].param,{search:e.search||""})),t.props[n.ANIMATION_STORE].getAnimations()},t.reset=function(){t.props[n.ANIMATION_STORE].setParam({page:1,perPage:10}),t.props.history.push(r.ANIMATION_LIST)},t}return Object(f.a)(a,e),Object(d.a)(a,[{key:"componentDidMount",value:function(){this.getList()}},{key:"componentDidUpdate",value:function(e){this.props.location!==e.location&&this.getList()}},{key:"render",value:function(){var e=this.props[n.ANIMATION_STORE],a=e.pageInfo,t=e.animations,r=e.isLoading,i=e.param;if(r)return o.a.createElement(k,null);var c=t.map((function(e){return o.a.createElement(y,{key:e.id,id:e.id,title:e.title.romaji,coverImage:e.coverImage.large,genres:e.genres})})),s=i.genres?i.genres:[];return o.a.createElement("div",{className:"content-wrap"},o.a.createElement("aside",{className:"sidebar"},o.a.createElement("div",{className:"main-title"},o.a.createElement("div",null,"Filter"),o.a.createElement(T.a,{size:"small",onClick:this.reset},"Reset",o.a.createElement(C.a,{type:"redo"}))),o.a.createElement("div",{className:"sidebar-filter border-bottom"},o.a.createElement("div",{className:"sidebar-filter-title"},"Genres"),o.a.createElement("div",{className:"sidebar-filter-item"},o.a.createElement("div",null,o.a.createElement(j.a,{onChange:this.onGenreChange,value:"Drama",checked:s.some((function(e){return"Drama"===e}))},"Drama")),o.a.createElement("div",null,o.a.createElement(j.a,{onChange:this.onGenreChange,value:"Sci-Fi",checked:s.some((function(e){return"Sci-Fi"===e}))},"Sci-Fi")),o.a.createElement("div",null,o.a.createElement(j.a,{onChange:this.onGenreChange,value:"Action",checked:s.some((function(e){return"Action"===e}))},"Action")),o.a.createElement("div",null,o.a.createElement(j.a,{onChange:this.onGenreChange,value:"Comedy",checked:s.some((function(e){return"Comedy"===e}))},"Comedy")),o.a.createElement("div",null,o.a.createElement(j.a,{onChange:this.onGenreChange,value:"Romance",checked:s.some((function(e){return"Romance"===e}))},"Romance")),o.a.createElement("div",null,o.a.createElement(j.a,{onChange:this.onGenreChange,value:"Fantasy",checked:s.some((function(e){return"Fantasy"===e}))},"Fantasy"))))),o.a.createElement("div",{className:"content"},o.a.createElement("div",{style:{padding:10,fontSize:"1.5em",marginBottom:10}},"Total of ",a.total),o.a.createElement("div",{className:"pagination-wrap",style:{marginBottom:10}},o.a.createElement("div",{className:"sort"},o.a.createElement(P.a,{defaultValue:i.sort,onChange:this.onSortChange,style:{width:160}},o.a.createElement(P.a.Option,{value:"TRENDING_DESC"},"Trending"),o.a.createElement(P.a.Option,{value:"FAVOURITES_DESC"},"Favourites"),o.a.createElement(P.a.Option,{value:"SCORE_DESC"},"Score"),o.a.createElement(P.a.Option,{value:"START_DATE_DESC"},"Start date"))),o.a.createElement("div",{className:"pagination"},o.a.createElement(w.a,{showSizeChanger:!0,defaultCurrent:a.currentPage,defaultPageSize:a.perPage,onShowSizeChange:this.onPageChange,onChange:this.onPageChange,total:a.total}))),o.a.createElement("div",null,c),o.a.createElement("div",{className:"pagination-wrap"},o.a.createElement("div",{className:"sort"},o.a.createElement(P.a,{defaultValue:i.sort,onChange:this.onSortChange,style:{width:160}},o.a.createElement(P.a.Option,{value:"TRENDING_DESC"},"Trending"),o.a.createElement(P.a.Option,{value:"FAVOURITES_DESC"},"Favourites"),o.a.createElement(P.a.Option,{value:"SCORE_DESC"},"Score"),o.a.createElement(P.a.Option,{value:"START_DATE_DESC"},"Start date"))),o.a.createElement("div",{className:"pagination"},o.a.createElement(w.a,{showSizeChanger:!0,defaultCurrent:a.currentPage,defaultPageSize:a.perPage,onShowSizeChange:this.onPageChange,onChange:this.onPageChange,total:a.total})))))}}]),a}(c.Component),x=Object(b.b)(n.ANIMATION_STORE)(Object(b.c)($)),z=t(67),F=t.n(z),G=t(101),q=t(139),U=function(){function e(){Object(g.a)(this,e),this.fetch=Object(q.a)({uri:i.ANILIST_CO})}return Object(d.a)(e,[{key:"getAnimations",value:function(){var e=Object(G.a)(F.a.mark((function e(a){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetch({query:"\n    query ($page: Int, $perPage: Int, $isAdult: Boolean, $sort: MediaSort, $search: String, $genres: [String]){\n        Page(page:$page, perPage:$perPage) {\n            pageInfo{\n                total\n                perPage\n                currentPage\n                lastPage\n                hasNextPage\n            },\n            media(isAdult: $isAdult, sort: [$sort], search: $search, genre_in: $genres) {\n                id\n                title{\n                    romaji\n                    english\n                    native\n                },\n                coverImage{\n                    extraLarge\n                    large\n                    medium\n                },\n                genres\n            }\n        }\n    }\n",variables:a});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(a){return e.apply(this,arguments)}}()},{key:"getAnimation",value:function(){var e=Object(G.a)(F.a.mark((function e(a){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetch({query:"\nquery ($id: Int) {\n    Media (id: $id) {\n        id\n        title{\n            romaji\n            english\n            native\n        }\n        coverImage{\n            extraLarge\n            large\n            medium\n        }\n        genres\n        status\n        description\n        startDate{\n            year\n            month\n            day\n        }\n        averageScore\n        trailer {\n            site\n            thumbnail\n            id\n        }\n        relations {\n            nodes {\n                title {\n                  romaji\n                  english\n                  native\n                }\n                description\n                coverImage {\n                  extraLarge\n                  large\n                  medium\n                }\n            }\n        }\n        characters {\n            nodes {\n                id\n                name {\n                    full\n                }\n                image {\n                    large\n                }\n                description\n            }\n        }\n        siteUrl\n        bannerImage\n    }\n}\n",variables:{id:a}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(a){return e.apply(this,arguments)}}()}]),e}(),B=(t(236),function(e){function a(e,t){var n;return Object(g.a)(this,a),(n=Object(E.a)(this,Object(v.a)(a).call(this,e,t))).animationService=void 0,n.animationService=new U,n.state={media:null},n}return Object(f.a)(a,e),Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this,a=this.props.match.params.id;this.animationService.getAnimation(a).then((function(a){e.setState({media:a.data.Media})}))}},{key:"render",value:function(){if(null==this.state.media)return o.a.createElement(k,null);var e=this.state.media,a=e.characters.nodes.map((function(e){return o.a.createElement("div",{key:e.id,className:"character"},o.a.createElement("div",{className:"preview"},o.a.createElement("img",{src:e.image.large})),o.a.createElement("div",{className:"info"},o.a.createElement("h4",null,e.name.full),o.a.createElement("p",{dangerouslySetInnerHTML:{__html:e.description}})))})),t="";if(e.trailer){var n=e.trailer.id,r=e.trailer.site;"youtube"===r?t="https://www.youtube.com/watch?v=".concat(n):"dailymotion"===r&&(t="http://www.dailymotion.com/embed/video/".concat(n))}return o.a.createElement("div",{className:"item-detail"},o.a.createElement("div",{className:"item-head",style:{backgroundImage:"url(".concat(e.bannerImage,")"),backgroundSize:"cover"}},o.a.createElement("div",{className:"item-head-content"},o.a.createElement("div",{className:"item-preview"},o.a.createElement("img",{src:e.coverImage.large})),o.a.createElement("div",{className:"item-info"},o.a.createElement("div",{className:"info"},o.a.createElement("h1",null,e.title.romaji),o.a.createElement("h3",null,e.genres.join(", ")),o.a.createElement("h3",null,"Average Score ",e.averageScore)),o.a.createElement("div",{className:"trailer"},t?o.a.createElement(T.a,{target:"_black",href:t},"Trailer"):"",o.a.createElement(T.a,{target:"_black",href:e.siteUrl},"More information"))))),o.a.createElement("div",{className:"item-content"},o.a.createElement("div",{className:"main"},o.a.createElement("div",{className:"section"},o.a.createElement("h4",null,"Characters"),o.a.createElement("div",{className:"characters"},a))),o.a.createElement("div",{className:"side"},o.a.createElement("div",{className:"section"},o.a.createElement("h4",null,"Story"),o.a.createElement("p",{dangerouslySetInnerHTML:{__html:e.description}})),o.a.createElement("div",{className:"section"},o.a.createElement("h4",null,"Recommendations"),o.a.createElement("div",{className:"recommendations"},"Preparing for service...")))))}}]),a}(c.Component)),V=O.a.Search,H=function(e){function a(){var e,t;Object(g.a)(this,a);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(t=Object(E.a)(this,(e=Object(v.a)(a)).call.apply(e,[this].concat(i)))).onSearch=function(e){t.props.history.push("".concat(r.ANIMATION_LIST,"?search=").concat(e))},t}return Object(f.a)(a,e),Object(d.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:"default-layout"},o.a.createElement("header",{className:"default-header"},o.a.createElement(N,{className:"logo"}),o.a.createElement(V,{className:"search",placeholder:"input search text",onSearch:this.onSearch})),o.a.createElement("div",{className:"default-content-layout"},o.a.createElement(h.d,null,o.a.createElement(h.b,{path:r.ANIMATION_LIST,component:S}),o.a.createElement(h.a,{from:"/",to:r.ANIMATION_LIST}))))}}]),a}(c.Component),J=function(){return o.a.createElement(m.a,{client:p},o.a.createElement(u.a,null,o.a.createElement(h.d,null,o.a.createElement(h.b,{path:"/",component:H}))))},K=(t(240),t(12)),Q=function(){function e(a){Object(g.a)(this,e),this.animationService=a,this.isLoading=!1,this.param={page:1,perPage:10},this.animations=[],this.pageInfo={currentPage:1,hasNextPage:!1,lastPage:1,perPage:10,total:0}}return Object(d.a)(e,[{key:"getAnimations",value:function(){var e=this;this.isLoading=!0;var a={page:this.param.page,perPage:this.param.perPage,isAdult:!!this.param.isAdult,sort:this.param.sort?this.param.sort:"TRENDING_DESC"};this.param.search&&Object.assign(a,{search:this.param.search}),this.param.genres&&this.param.genres.length>0&&Object.assign(a,{genres:this.param.genres}),this.param=a,this.animationService.getAnimations(a).then((function(a){e.animations=a.data.Page.media,e.pageInfo=a.data.Page.pageInfo})).finally((function(){e.isLoading=!1}))}},{key:"setParam",value:function(e){this.param=e}}]),e}();Object(K.j)(Q,{animations:K.o,pageInfo:K.o,param:K.o,isLoading:K.o,setParam:K.f,getAnimations:K.f});var W=Q,X=function e(){Object(g.a)(this,e),this.animationStore=new W(new U)};X.instance=void 0;var Y=new X,Z=function(e){var a=e.children;return o.a.createElement(b.a,Y,a)};l.a.render(o.a.createElement(Z,null,o.a.createElement(J,null)),document.getElementById("root"))}},[[142,1,2]]]);
//# sourceMappingURL=main.78eb3437.chunk.js.map